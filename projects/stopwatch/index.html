<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cron√¥metro | Mikhael Gois</title>
    <link rel="stylesheet" href="../shared.css">
    <style>
        .stopwatch-container { max-width: 500px; margin: 3rem auto; text-align: center; }
        .timer-display { font-size: 4rem; font-weight: 700; background: var(--accent-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; margin: 2rem 0; font-family: 'Courier New', monospace; }
        .controls { display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; margin: 2rem 0; }
        .controls button { min-width: 120px; }
        .laps { margin-top: 2rem; max-height: 300px; overflow-y: auto; }
        .laps h3 { margin-bottom: 1rem; }
        .lap-item { background: var(--bg-card); border: 1px solid var(--border); border-radius: 8px; padding: 1rem; margin-bottom: 0.5rem; display: flex; justify-content: space-between; }
        @media (max-width: 600px) {
            .timer-display { font-size: 3rem; }
            .controls button { min-width: 100px; font-size: 0.9rem; }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <h1>‚è±Ô∏è Cron√¥metro</h1>
            <a href="../../index.html#portfolio" class="btn btn-back">‚Üê Voltar</a>
        </div>
    </header>

    <main>
        <div class="container">
            <div class="stopwatch-container">
                <div class="timer-display" id="display">00:00:00.00</div>
                
                <div class="controls">
                    <button id="start-btn" onclick="start()" class="btn">‚ñ∂Ô∏è Iniciar</button>
                    <button id="stop-btn" onclick="stop()" class="btn btn-secondary" disabled>‚è∏Ô∏è Pausar</button>
                    <button onclick="lap()" class="btn btn-secondary">üìç Lap</button>
                    <button onclick="reset()" class="btn btn-secondary">üîÑ Resetar</button>
                </div>
                
                <div class="laps" id="laps-container" style="display: none;">
                    <h3>Voltas</h3>
                    <div id="laps-list"></div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <p>¬© 2026 Mikhael Gois | Cron√¥metro Preciso</p>
    </footer>

    <script>
        let startTime = 0, elapsedTime = 0, timerInterval, laps = [];
        const display = document.getElementById('display');
        const startBtn = document.getElementById('start-btn');
        const stopBtn = document.getElementById('stop-btn');
        const lapsContainer = document.getElementById('laps-container');
        const lapsList = document.getElementById('laps-list');

        function formatTime(ms) {
            const totalSeconds = Math.floor(ms / 1000);
            const hours = Math.floor(totalSeconds / 3600);
            const minutes = Math.floor((totalSeconds % 3600) / 60);
            const seconds = totalSeconds % 60;
            const milliseconds = Math.floor((ms % 1000) / 10);
            return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}.${milliseconds.toString().padStart(2, '0')}`;
        }

        function start() {
            startTime = Date.now() - elapsedTime;
            timerInterval = setInterval(() => {
                elapsedTime = Date.now() - startTime;
                display.textContent = formatTime(elapsedTime);
            }, 10);
            startBtn.disabled = true;
            stopBtn.disabled = false;
        }

        function stop() {
            clearInterval(timerInterval);
            startBtn.disabled = false;
            stopBtn.disabled = true;
        }

        function reset() {
            clearInterval(timerInterval);
            startTime = 0;
            elapsedTime = 0;
            laps = [];
            display.textContent = '00:00:00.00';
            startBtn.disabled = false;
            stopBtn.disabled = true;
            lapsContainer.style.display = 'none';
            lapsList.innerHTML = '';
        }

        function lap() {
            if (elapsedTime === 0) return;
            laps.push(elapsedTime);
            lapsContainer.style.display = 'block';
            lapsList.innerHTML = laps.map((time, i) => `
                <div class="lap-item">
                    <span>Volta ${laps.length - i}</span>
                    <span>${formatTime(time)}</span>
                </div>
            `).reverse().join('');
        }
    </script>
</body>
</html>
